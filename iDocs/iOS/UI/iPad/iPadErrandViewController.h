////  iPhoneErrandViewController.h//  iDoc////  Created by Dmitry Likhachev on 02/08/10.//  Copyright 2009 KORUS Consulting. All rights reserved.//#import <UIKit/UIKit.h>#import "iPadBaseViewController.h"#import "iPadTokenFieldCell.h"#import "iPadEmployeeListViewController.h"#import "iPadEmployeeListCompactViewContoller.h"#import "iPadDateSelectViewController.h"#import "iPadTextListViewController.h"#import "HFSUIButton.h"#import "Doc.h"#import "DocErrand.h"#import "ActionToSync.h"#import "iPadPopupLayoutViewProtocol.h"#import "iPadErrandActionListViewController.h"#import "DocDataEntity.h"#import "ActionToSyncDataEntity.h"#import "TaskDataEntity.h"@class iPadErrandViewController;@protocol iPadErrandViewControllerDelegate <NSObject>@optional- (void)errandViewCloseButtonPressed;- (void)deleteErrandActionButtonPressed;- (void)submitErrandWorkflowActionToServer:(ActionToSync *)action;- (void)submitErrandCreateActionsToServer:(NSArray *)actions;@end@interface iPadErrandViewController : iPadBaseViewController <UITableViewDelegate, UITableViewDataSource, iPadEmployeeListViewControllerDelegate, iPadEmployeeListCompactViewContollerDelegate,iPadDateSelectViewControllerDelegate, iPadTextListViewControllerDelegate, UITextViewDelegate, TITokenFieldViewDelegate,iPadErrandActionListViewControllerDelegate> {	UITableView *errandTableView;		DocErrand *errand;    ActionToSync *action;    NSMutableArray *errandActions;    NSArray *errandExecutors;    NSString *taskId;    	int accessLevel;	int viewMode;		id<iPadErrandViewControllerDelegate> delegate;		NSIndexPath *indexToScroll;        UIButton *actionsPopoverButton;    UIPopoverController *errandActionsPopover;    UIButton *templateAddButton;        UIPopoverController *resolutionTemplatesPopover;    NSMutableArray *resolutionsList;    UIButton *executorAddButton;    UIPopoverController *employeeCompactFilterPopover;    iPadEmployeeListCompactViewContoller *employeeListCompactViewController;        UIDeviceOrientation currentOrientation;        NSUInteger textViewCursorPosition;        float executorCellHeight;    id<iPadPopupLayoutViewDelegate>auxPanel; // плейсхолдер для выдвижного списка исполнителей (пробрасывается из layoutView)    iPadEmployeeListViewController *employeeListViewController; // для поиска        BOOL shouldPresentEmployeeListPopover;        DocDataEntity *docEntity;    ActionToSyncDataEntity *actionsEntity;    TaskDataEntity* taskEntity;}@property (nonatomic, retain) DocErrand *errand;@property (nonatomic, retain) ActionToSync *action;@property (nonatomic, retain) NSMutableArray *errandActions;@property (nonatomic, retain) NSArray *errandExecutors;@property (nonatomic, retain) NSString *taskId;- (id)initWithFrame:(CGRect)frame;- (void)setDelegate:(id<iPadErrandViewControllerDelegate>)newDelegate;- (void)setPopupAuxPanel:(id<iPadPopupLayoutViewDelegate>)auxPanel;- (void)prepareDataForErrand:(DocErrand *)errandData withTaskAction:(ActionToSync *)actionData orTaskId:(NSString *)errandTaskId usingMode:(int)mode;@end